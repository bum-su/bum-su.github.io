---
layout: post
title: C++ 컴파일러
date: 2023-05-11 01:00:00 +0900
categories: C++ Compiler
tags: Compiler
---

# 서론
------------
**컴파일이란 고급 프로그래밍 언어로 작성된 소스 코드를 컴퓨터가 이해하고 실행할 수 있는 저급 언어인 기계어 코드로 변환하는 과정**

c++은 고급 언어다.

## 과정
----------------
1. 전처리(Preprocessing): 이 단계에서는 #include, #define 등의 전처리 지시자가 처리됩니다. 이 단계가 끝나면, 전처리 지시자는 모두 해당하는 내용으로 대체되고, 그 결과를 소스 파일이라고 합니다.

2. 컴파일(Compilation): 컴파일 단계에서는 전처리된 소스 코드가 어셈블리 언어로 번역됩니다. 컴파일러는 C++ 코드를 읽고, 그에 해당하는 기계어 코드를 생성합니다. 이 과정에서 컴파일러는 코드에 문법적 오류가 없는지 확인하고, 문법에 맞지 않는 코드가 있으면 오류 메시지를 출력하고 컴파일을 중단합니다.

3. 어셈블(Assembly): 이 단계에서는 컴파일러가 생성한 어셈블리 코드가 기계어 코드로 변환됩니다. 이 작업은 어셈블러에 의해 수행되며, 이 결과물은 오브젝트 파일입니다. 오브젝트 파일은 기계어 코드를 포함하지만, 아직 실행 가능한  상태는 아닙니다. 왜냐하면 다른 오브젝트 파일들과 함께 링크되어야 하기 때문입니다.

4. 링킹(Linking): 마지막으로 링커가 여러 개의 오브젝트 파일과 라이브러리를 하나의 실행 가능한 파일로 연결합니다. 외부 함수의 참조를 해결하고, 정적 라이브러리를 포함하며, 다른 모듈에 정의된 함수나 변수를 참조하는 코드를 해당 위치와 연결합니다. 이 단계가 완료되면 실행 가능한 프로그램 exe 파일이 생성됩니다.

## 인터프린터와의 차이
------------

컴파일러와 인터프리터는 둘 다 고급 프로그래밍 언어를 컴퓨터가 이해할 수 있는 형태로 변환하는 도구입니다. 하지만 그들이 이 작업을 수행하는 방식과 타이밍에는 큰 차이가 있습니다.

### 컴파일러(Compiler)

컴파일러는 전체 프로그램을 통째로 읽어 들인 후, 이를 기계어로 번역합니다. 이 번역된 코드는 실행 파일(예: .exe 파일)로 저장되며, 이 파일을 실행하면 프로그램이 동작합니다. 이 방식의 장점은 기계어로 직접 번역되기 때문에 실행 속도가 빠르다는 것입니다. C, C++, Java 등의 언어가 이에 해당합니다.

### 인터프리터(Interpreter)

인터프리터는 프로그램을 한 줄씩 읽어들이면서 즉시 그 줄의 코드를 실행합니다. 따라서 전체 프로그램을 먼저 읽지 않고, 각 줄을 실행시키므로 프로그램의 실행이 느릴 수 있습니다. 하지만 코드를 바로 실행하기 때문에 개발 과정에서 수정사항을 바로 확인할 수 있다는 장점이 있습니다. Python, JavaScript 등의 언어가 이에 해당합니다.

- 컴파일러는 코드 전체를 기계어로 번역 후 실행, 인터프린터는 한줄 씩 코드를 실행
- 실행은 컴파일러가 빠르고, 인터프리터는 상대적으로 느리다. (다만, 기술발전으로 그렇게 차이가 나지 않기 시작했다.)
- 개발 과정에서 인터프리터가 디버깅이 상대적으로 쉽다

## 같은 컴파일러인 c#과 c++의 차이
--------------------

1. 디자인 철학: C++는 절차적 프로그래밍과 객체 지향 프로그래밍 모두를 지원하는 언어입니다. 반면에 C#은 순수한 객체 지향 프로그래밍 언어로, 모든 것이 객체로 취급됩니다.

2. 메모리 관리: C++에서는 개발자가 직접 메모리를 할당하고 해제하는 등의 메모리 관리를 수행해야 합니다. 이로 인해 세밀한 제어가 가능하나, 메모리 누수와 같은 문제가 발생할 수 있습니다. 반면 C#은 가비지 컬렉션(Garbage Collection)을 이용한 자동 메모리 관리를 지원하여 메모리 누수 문제를 크게 줄여줍니다.

3. 플랫폼 종속성: C++는 플랫폼 독립적인 언어로, 다양한 플랫폼에서 실행될 수 있습니다. 반면에 C#은 기본적으로 .NET 프레임워크 위에서 동작하며, 이는 주로 윈도우 환경에서 사용됩니다. 그러나 .NET Core와 같은 크로스 플랫폼 프레임워크의 등장으로 C#도 다양한 플랫폼에서 사용할 수 있게 되었습니다.

4. 용도: C++는 시스템 프로그래밍, 게임 개발, 임베디드 시스템 등에서 널리 사용됩니다. 반면에 C#은 주로 데스크톱 애플리케이션, 웹 애플리케이션, 게임 개발(Unity 엔진) 등에서 사용됩니다.

5. 사용 편의성: C#은 C++보다 사용하기 쉽고, 편의성이 높습니다. C#에는 풍부한 라이브러리와 프레임워크가 있으며, 가비지 컬렉션과 같은 기능으로 인해 개발자가 코드에 집중할 수 있도록 돕습니다.