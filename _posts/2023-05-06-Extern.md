---
layout: post
title: "Extern"
date: 2023-05-06 00:00:00 +0900
categories: C++ Variable
tags: extern
---

# 서론
전역 변수는 가능해도 정적 전역 변수는 extern 키워드를 사용해 외부 파일에서 접근 할 수 없다. <br/>
(정적 전역 변수는 접근이 내부 파일로 제한되어 있기 때문)<br/>
<br/>
이런 extern에 대해 araboza

## 변수 선언
---------
- extern 키워드는 변수가 다른 소스 파일에서 정의되어 있다는 것을 의미한다.
- 이를 통해 해당 변수를 여러 소스 파일에서 공유할 수 있다.
- extern으로 선언된 변수는 해당 소스 파일에 실제로 메모리를 할당하지 않는다
- 메모리는 원래의 변수 정의에서만 할당됨

```cpp
// file1.cpp
int sharedVar = 10; // 실제 변수 정의

// file2.cpp
extern int sharedVar; // 다른 파일에 정의된 변수를 선언
```

## 함수 선언
-----------
- C++에서는 함수의 기본 연결(Linkage)이 외부(external)이므로, 함수 선언에 extern 키워드를 명시적으로 사용할 필요는 없다. 컴파일러가 자동으로 함수를 외부로 간주하기 떄문

```cpp
// file1.cpp
int myFunction() {
    return 42;
}

// file2.cpp
extern int myFunction(); // 다른 파일에 정의된 함수를 선언 (사실 extern 키워드 없이도 동작)
```

## C와 C++ 코드 혼합
------------
- extern "C"를 사용하면 C++ 컴파일러가 C 코드와 호환되는 방식으로 함수를 처리하도록 지시할 수 있다. 
- 이를 통해 C와 C++ 코드를 동일한 프로젝트에서 함께 사용할 수 있다. 
- C++ 코드에서 C 함수를 호출하려면, 해당 C 함수에 대한 선언에 extern "C"를 사용해야 합니다.

```cpp
// C 함수가 선언된 헤더 파일 (example.h)
#ifdef __cplusplus
extern "C" {
#endif

void cFunction();

#ifdef __cplusplus
}
#endif

// C++ 소스 파일
#include "example.h"

int main() {
    cFunction(); // C 함수 호출
    return 0;
}
```
-----------

**extern 키워드는 변수와 함수를 여러 소스 파일에서 공유하거나 C와 C++ 코드를 혼합할 때 사용되며, 코드의 모듈화와 유지 관리에 도움이 됩니다.**
