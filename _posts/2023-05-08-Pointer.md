---
layout: post
title: C++ 포인터 (참조 연산자, 주소 연산자)
date: 2023-05-08 16:00:00 +0900
categories: C++ Pointer
tags: [Pointer]
---

# 서론
-------
주소 연산자(&)는 변수나 객체의 메모리 주소를 반환하고 <br/>
참조 연산자(*)는 포인터가 가리키는 메모리 주소의 값을 참조한다. <br/>
라고 한다 <br/>
(참조 연산자 == 포인터) <br/>

araboza

## 예제를 보자
---------

우선, 변수를 선언하면 메모리를 할당 받게 된다. <br/>
그러면 할**당 받은 메모리 주소에 값을 저장하게 되는데, 포인터가 이를 이용한 키워드이다.**
<br/>
아래를 보자

```cpp
int num = 10; // 1 번
int* ptr = &num; // 2 번
```
1. 정수 10을 저장하는 num 변수가 선언되었고 <br/>
2. 주소 연산자(&)를 이용하여 num의 주소를 얻고, 이 주소를 저장하는 포인터(*) 변수 ptr를 선언했다.<br/>

```
+-----+        +-----+
| num |        | ptr |
+-----+        +-----+
| 10  |<-------|주소 |
+-----+        +-----+
```
메모리 상에선 위와 같은 모습으로 표현 할 수 있다. <br/>
그럼 아래 코드를 보자
```cpp
cout << num << '\n'; // 10 
cout << &num << '\n'; // num의 메모리 주소
cout << ptr << '\n'; // num의 메모리 주소
cout << *ptr << '\n'; // 10
```
num은 10을 출력하고 <br/>
&num은 num의 주소를 출력하고 <br/>
ptr은 num의 주소를 출력하고<br/>
*ptr은 num의 주소의 값, 10을 출력했다. <br/>
<br/>

즉, *ptr은 자신이 가리키는 주소(&num)를 ptr에 저장하고, 주소의 값 10을 참조한 것.<br/>
<br/>

## 참조한다?
----------
예제를 보자
```cpp
int num = 10; 
int* ptr = &num;

*ptr = 20;
```
*ptr은 num의 주소의 값을 참조한다. <br/>
*ptr에 참조값에 20을 넣으면 어떻게 될까? <br/>
num에 저장된 값도 20으로 바뀌게 된다. <br/>
```cpp
cout << *ptr << '\n'; // 20 이 출력된다.
cout << num << '\n'; // 20 이 출력된다.
```
**말 그대로 참조하면서도 값에 영향을 끼친다는 것을 알 수 있다.**

<br/><br/>

**그럼 가리키는 주소를 바꾸려면 어떻게 해야 할까?** <br/>

예제를 보자
```cpp
int num = 10; 
int* ptr = &num;

int num2= 1;

ptr = &num2; // 이 것을 주목하자
```
이제 ptr엔 num2의 주소가 저장되었고, *ptr은 num2의 주소를 가리키게 되었다.

- 즉, 포인터 변수는 주소를 가리키며, 가리키는 주소의 값을 참조한다.

<br/>

# 더블 포인터
--------------
예제를 보자.
```cpp
int a = 1;
int* b = &a;
int** c = &b;
```
**c == 1;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   **( c가 가리키는 주소의 값을 가리키는 주소의 값 )**  <br/>
*c == &a == b; &nbsp;&nbsp; **( c가 가리키는 주소의 값 )** <br/>
c == &b;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    **( c가 가리키는 주소 )** <br/>
*b == 1;   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    **( b가 가리키는 주소의 값 )** <br/>
b == &a;  &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    **( b가 가리키는 주소 )** <br/>

포인터에 대해 이해 했다면, 위 예제도 어려움은 없을 것이다. <br/><br/>

## 포인터의 크기
-----------
포인터의 크기는 시스템 아키텍처에 따라 다르다. 일반적으로 다음과 같은 규칙이 적용된다.

1. 32비트 시스템: 32비트 시스템에서 포인터의 크기는 4바이트입니다. 이는 포인터가 32비트 메모리 주소를 가리키기 때문.

2. 64비트 시스템: 64비트 시스템에서 포인터의 크기는 8바이트입니다. 이는 포인터가 64비트 메모리 주소를 가리키기 때문.

포인터 변수의 메모리 크기는 시스템 아키텍처(32비트 또는 64비트)에 따라 결정된다. <br/>변수 타입과는 관계 없이 포인터 변수가 저장하는 것은 메모리 주소이기 때문.